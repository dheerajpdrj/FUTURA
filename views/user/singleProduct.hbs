{{!-- <style type="text/css">
    .drift-demo-trigger {
        width: 40%;
    }

    .detail {
        position: absolute;
        width: 95%;
        float: left;
    }



    @media (max-width: 900px) {


        .detail,
        .drift-demo-trigger {
            float: none;
        }

        .drift-demo-trigger {
            max-width: 100%;
            width: auto;
            margin: 0 auto;
        }

        .detail {
            margin: 0;
            width: auto;
        }



        .responsive-hint {
            display: none;
        }

        .drift-bounding-box {
            display: none;
        }
    }
</style> --}}



<!--================Single Product Area =================-->
<div class="product_image_area section_padding">
    <div class="container">
        <div class="row s_product_inner justify-content-between">
            <div class="col-lg-7 col-xl-7">

                <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                    </ol>
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img class="d-block w-100 drift-demo-trigger"
                                data-zoom="/product-image=097/{{product._id}}.jpg" style="height:26rem;"
                                src="/product-images/{{product._id}}.jpg" alt="First slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100 drift-demo-trigger"
                                data-zoom="/product-image=097/{{product._id}}.jpg" style="height:26rem;" src="/product-images/{{product._id}}.jpg"
                                alt="Second slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100 drift-demo-trigger"
                                data-zoom="/product-image=097/{{product._id}}.jpg" style="height:26rem;" src="/product-images/{{product._id}}.jpg"
                                alt="Third slide">
                        </div>
                    </div>
                    <a class="carousel-control-prev " href="#carouselExampleIndicators" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" style="background-color: black;"
                            aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" style="background-color: black;"
                            aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>

            </div>
            <div class="col-lg-5 col-xl-4">
                <div class="detail">
                    <div class="d-flex">
                        <div class="s_product_text">
                            <h3>{{product.Name}}</h3>
                            <h2>â‚¹{{product.Price}}</h2>
                            <ul class="list">
                                <li>
                                    <a class="active" href="#">
                                        <span>Category</span> : {{product.Category.CategoryName}}</a>
                                </li>
                                {{!-- <li>
                                    <a href="#"> <span>Availibility</span> : In Stock</a>
                                </li> --}}
                            </ul>
                            <p>
                                {{product.Description}}
                            </p>
                            <div class="card_area d-flex justify-content-between align-items-center">
                               
                                <button onclick="addToCart('{{product._id}}')" class="btn_3">add to cart</button>
                                <button style="border: none;" onclick="addWishlist('{{product._id}}')"  class="like_us"> <i style=" color: #b3abac; margin-top: 11px; " id="wishicon{{product._id}}" class="fas fa-heart fa-2x"></i> </button>
                            </div>
                        </div>
                    </div>

                </div>

            </div>
        </div>
    </div>
</div>
<!--================End Single Product Area =================-->

<!--::footer_part start::-->
<footer class="footer_part">
    <div class="container">
        <div class="row justify-content-around">
            <div class="col-sm-6 col-lg-2">
                <div class="single_footer_part">
                    <h4>Top Products</h4>
                    <ul class="list-unstyled">
                        <li><a href="">Managed Website</a></li>
                        <li><a href="">Manage Reputation</a></li>
                        <li><a href="">Power Tools</a></li>
                        <li><a href="">Marketing Service</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-6 col-lg-2">
                <div class="single_footer_part">
                    <h4>Quick Links</h4>
                    <ul class="list-unstyled">
                        <li><a href="">Jobs</a></li>
                        <li><a href="">Brand Assets</a></li>
                        <li><a href="">Investor Relations</a></li>
                        <li><a href="">Terms of Service</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-6 col-lg-2">
                <div class="single_footer_part">
                    <h4>Features</h4>
                    <ul class="list-unstyled">
                        <li><a href="">Jobs</a></li>
                        <li><a href="">Brand Assets</a></li>
                        <li><a href="">Investor Relations</a></li>
                        <li><a href="">Terms of Service</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-6 col-lg-2">
                <div class="single_footer_part">
                    <h4>Resources</h4>
                    <ul class="list-unstyled">
                        <li><a href="">Guides</a></li>
                        <li><a href="">Research</a></li>
                        <li><a href="">Experts</a></li>
                        <li><a href="">Agencies</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-6 col-lg-4">
                <div class="single_footer_part">
                    <h4>Newsletter</h4>
                    <p>Heaven fruitful doesn't over lesser in days. Appear creeping
                    </p>
                    <div id="mc_embed_signup">
                        <form target="_blank"
                            action="https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&amp;id=92a4423d01"
                            method="get" class="subscribe_form relative mail_part">
                            <input type="email" name="email" id="newsletter-form-email" placeholder="Email Address"
                                class="placeholder hide-on-focus" onfocus="this.placeholder = ''"
                                onblur="this.placeholder = ' Email Address '">
                            <button type="submit" name="submit" id="newsletter-submit"
                                class="email_icon newsletter-submit button-contactForm">subscribe</button>
                            <div class="mt-10 info"></div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="copyright_part">
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <div class="copyright_text">
                        <P>
                            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                            Copyright &copy;
                            <script>document.write(new Date().getFullYear());</script> All rights reserved | This
                            template is made with <i class="ti-heart" aria-hidden="true"></i> by <a
                                href="https://colorlib.com" target="_blank">Colorlib</a>
                            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                        </P>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="footer_icon social_icon">
                        <ul class="list-unstyled">
                            <li><a href="#" class="single_social_icon"><i class="fab fa-facebook-f"></i></a></li>
                            <li><a href="#" class="single_social_icon"><i class="fab fa-twitter"></i></a></li>
                            <li><a href="#" class="single_social_icon"><i class="fas fa-globe"></i></a></li>
                            <li><a href="#" class="single_social_icon"><i class="fab fa-behance"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>
<!--::footer_part end::-->


<script src="/javascripts/Drift.js"></script>

<script>
    const addToCart = async (id) => {
            console.log(id)
            const res = await axios.post(`/addToCart/${id}`, {
            }).then((e) => {
                console.log(e)
                if (e.data.response.duplicate) {
                    swal('Item already added to the cart','','warning')
                } else {
                    let count = document.getElementById('cart-count').innerHTML
                    count = parseInt(count) + 1
                    document.getElementById('cart-count').innerHTML = count
                    swal('Item added to the cart','','success')

                }
            })
        }


        const addWishlist = async (id) => {
        console.log(id)
        const response = await axios.post(`/wishlist/${id}`, {
        }).then((e) => {
            console.log(e.data.response)
            let count =parseInt(document.getElementById('wishlist-count').innerHTML)
            if (e.data.response.added) {
                document.getElementById('wishlist-count').innerHTML = parseInt(document.getElementById('wishlist-count').innerHTML) + 1
                document.getElementById("wishicon" + id).style.color = '#ff052b'
                swal('Item added to Wishlist',"",'success')
            } else {
                document.getElementById('wishlist-count').innerHTML = parseInt(document.getElementById('wishlist-count').innerHTML) - 1
                document.getElementById('wishicon' + id).style.color = '#b3abac'
                swal('Item removed from wishlist',"",'error')
            }
        })
    }
</script>

<script>
    let driftImgs = document.querySelectorAll('.drift-demo-trigger');
    let pane = document.querySelector('.detail');
    for (let i = 0; i < driftImgs.length; i++) {
        console.log('asdfhkashdflaksh')
        new Drift(driftImgs[i], {
            
            paneContainer: pane,
            inlinePane: false
        })
    }
</script>